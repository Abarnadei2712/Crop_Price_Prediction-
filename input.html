<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agriculture Insights</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url('https://storage.needpix.com/rsynced_images/paddy-field-3864340_1280.jpg') no-repeat center center fixed;
            background-size: cover;
        }

        h1 {
            color: #fff;
            text-align: center;
            margin-top: 20px;
        }

        .container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 8px;
            max-width: 400px;
            margin: 50px auto;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.2);
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        select, input[type="text"], input[type="password"], input[type="email"], 
        input[type="number"], input[type="submit"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        input[type="submit"] {
            background-color: #5cb85c;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        input[type="submit"]:hover {
            background-color: #4cae4c;
        }

        .forgot-password {
            text-align: right;
        }

        .form-switch {
            text-align: center;
        }

        .form-switch a {
            color: #5cb85c;
            text-decoration: none;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        #results p {
            font-size: 18px;
        }
    </style>
</head>
<body>

<h1>Agriculture Insights</h1>

<div class="container">
    {% if registered %}
        <div id="results">
            <p>Registration successful! Redirecting to the input form...</p>
        </div>
        <script> setTimeout(() => window.location.href = "/input", 2000); </script>

    {% elif input %}
        <form action="/predict" method="POST">
            <h2>Crop Prediction</h2>
            <label for="crop_type">Select Crop Type:</label>
            <select id="crop_type" name="crop_type" required>
                <option value="">-- Select Crop Type --</option>
                <!-- Full crop type options -->
                <option value="rice">Rice</option>
                <option value="wheat">Wheat</option>
                <option value="maize">Maize</option>
                <option value="sorghum">Sorghum</option>
                <option value="pearl millet">Pearl Millet</option>
                <option value="ragi">Ragi</option>
                <option value="redgram">Redgram</option>
                <option value="soyabean">Soyabean</option>
                <option value="groundnut">Groundnut</option>
                <option value="cotton">Cotton</option>
                <option value="sugarcane">Sugarcane</option>
                <option value="tomato">Tomato</option>
                <option value="onion">Onion</option>
                <option value="chillies">Chillies</option>
                <option value="cabbage">Cabbage</option>
                <option value="watermelon">Watermelon</option>
                <option value="peas">Peas</option>
                <option value="carrot">Carrot</option>
                <option value="beetroot">Beetroot</option>
                <option value="cauliflower">Cauliflower</option>
                <option value="sorghum">Sorghum</option>
                <option value="pearl_millet">Pearl Millet</option>
                <option value="ragi">Ragi</option>
                <option value="panivaragu">Panivaragu</option>
                <option value="samai">Samai</option>
                <option value="thinai">Thinai</option>
                <option value="varagu">Varagu</option>
                <option value="kudiraivali">Kudiraivali</option>
                <option value="blackgram">Blackgram</option>
                <option value="greengram">Greengram</option>
                <option value="cowpea">Cowpea</option>
                <option value="gardenlablab">Garden Lablab</option>
                <option value="fieldlablab">Field Lablab</option>
                <option value="bengalgram">Bengalgram</option>
                <option value="horsegram">Horsegram</option>
                <option value="redgram">Redgram</option>
                <option value="soyabean">Soyabean</option>
                <option value="swordbean">Swordbean</option>
                <option value="groundnut">Groundnut</option>
                <option value="sunflower">Sunflower</option>
                <option value="gingely">Gingely</option>
                <option value="niger">Niger</option>
                <option value="safflower">Safflower</option>
                <option value="castor">Castor</option>
                <option value="cotton">Cotton</option>
                <option value="jute">Jute</option>
                <option value="sugarcane">Sugarcane</option>
                <option value="sweet_sorghum">Sweet Sorghum</option>
                <option value="sugarbeet">Sugarbeet</option>
                <option value="fodder_cholam">Fodder Cholam</option>
                <option value="fodder_cumbu">Fodder Cumbu</option>
                <option value="fodder_maize">Fodder Maize</option>
                <option value="cumbu_napier_hybrid">Cumbu Napier Hybrid</option>
                <option value="guinea_grass">Guinea Grass</option>
                <option value="kollukattai_pullu">Kollukattai Pullu</option>
                <option value="kudirai_masi">Kudirai Masi</option>
                <option value="velimasal">Velimasal</option>
                <option value="fodder_cowpea">Fodder Cowpea</option>
                <option value="muyal_masal">Muyal Masal</option>
                <option value="soundal">Soundal</option>
                <option value="tobacco">Tobacco</option>
                <option value="tomato">Tomato</option>
                <option value="onion">Onion</option>
                <option value="chillies">Chillies</option>
                <option value="cabbage">Cabbage</option>
                <option value="bhendi">Bhendi</option>
                <option value="brinjal">Brinjal</option>
                <option value="capsicum">Capsicum</option>
                <option value="paprika">Paprika</option>
                <option value="pumpkin">Pumpkin</option>
                <option value="snake_gourd">Snake Gourd</option>
                <option value="ribbed_gourd">Ribbed Gourd</option>
                <option value="bottle_gourd">Bottle Gourd</option>
                <option value="bitter_gourd">Bitter Gourd</option>
                <option value="ash_gourd">Ash Gourd</option>
                <option value="cucumber">Cucumber</option>
                <option value="gherkins">Gherkins</option>
                <option value="watermelon">Watermelon</option>
                <option value="muskmelon">Muskmelon</option>
                <option value="tinda">Tinda</option>
                <option value="chowchow">Chowchow</option>
                <option value="cluster_bean">Cluster Bean</option>
                <option value="vegetable_cowpea">Vegetable Cowpea</option>
                <option value="lablab">Lablab</option>
                <option value="french_bean">French Bean</option>
                <option value="broadbean">Broadbean</option>
                <option value="peas">Peas</option>
                <option value="annual_moringa">Annual Moringa</option>
                <option value="carrot">Carrot</option>
                <option value="beetroot">Beetroot</option>
                <option value="radish">Radish</option>
                <option value="colocasia">Colocasia</option>
                <option value="dioscorea">Dioscorea</option>
                <option value="sweet_potato">Sweet Potato</option>
                <option value="chinese_potato">Chinese Potato</option>
                <option value="tapioca">Tapioca</option>
                <option value="elephant_foot_yam">Elephant Foot Yam</option>
                <option value="amaranthus">Amaranthus</option>
                <option value="curry_leaf">Curry Leaf</option>
                <option value="celery">Celery</option>
                <option value="cauliflower">Cauliflower</option>
                <option value="small_onion">Small Onion</option>
                <option value="bellary_onion">Bellary Onion</option>
                <option value="asparagus">Asparagus</option>
                <option value="basella">Basella</option>
                <option value="bread_fruit">Bread Fruit</option>
                <option value="brussels_sprout">Brussels Sprout</option>
                <option value="butter_bean">Butter Bean</option>
                <option value="phaseolus_lunatus">Phaseolus Lunatus</option>
                <option value="celery">Celery</option>
                <option value="ceylon_spinach">Ceylon Spinach</option>
                <option value="chakravathi_keerai">Chakravathi Keerai</option>
                <option value="chekurmanis">Chekurmanis</option>
                <option value="chinese_cabbage">Chinese Cabbage</option>
                <option value="coccinia">Coccinia</option>
                <option value="knol-khol">Knol-khol</option>
                <option value="lettuce">Lettuce</option>
                <option value="mint">Mint</option>
                <option value="palak">Palak</option>
                <option value="rhubarb">Rhubarb</option>
                <option value="turnip">Turnip</option>
                <option value="winged_bean">Winged Bean</option>
                <!-- Add more crop types as needed -->
            </select>

            <label for="district">Select District:</label>
            <select id="district" name="district" required>
                <option value="">-- Select District --</option>
                <!-- Full district options -->
                <option value="ARIYALUR">Ariyalur</option>
                <option value="CAUVERY">CAUVERY</option>
                <option value="CHENGLEPUT">CHENGLEPUT</option>
                <option value="COIMBATORE">COIMBATORE</option>
                <option value="CUDDALORE">CUDDALORE</option>
                <option value="DHARMAPURI">DHARMAPURI</option>
                <option value="DINDIGUL">DINDIGUL</option>
                <option value="ERODE">ERODE</option>
                <option value="HILLY REGIONS OF SHEVROY">HILLY REGIONS OF SHEVROY</option>
                <option value="JAWAD HILLS">JAWAD HILLS</option>
                <option value="KANCHEEPURAM">KANCHEEPURAM</option>
                <option value="KANYAKUMARI">KANYAKUMARI</option>
                <option value="KARUR">KARUR</option>
                <option value="KOLLI HILLS">KOLLI HILLS</option>
                <option value="KRISHNAGIRI">KRISHNAGIRI</option>
                <option value="MADURAI">MADURAI</option>
                <option value="NAGAPATTINAM">NAGAPATTINAM</option>
                <option value="NAMAKAL">NAMAKAL</option>
                <option value="PERAMBALUR">PERAMBALUR</option>
                <option value="PUDUKKOTTAI">PUDUKKOTTAI</option>
                <option value="RAMANATHANPURAM">RAMANATHANPURAM</option>
                <option value="SALEM">SALEM</option>
                <option value="SIVAGANGAI">SIVAGANGAI</option>
                <option value="TANJORE">TANJORE</option>
                <option value="THALAVADI HILLS">THALAVADI HILLS</option>
                <option value="THE NILGRIS">THE NILGRIS</option>
                <option value="THENI">THENI</option>
                <option value="THIRUCHIRAPALLI">THIRUCHIRAPALLI</option>
                <option value="THIRUNELVELI">THIRUNELVELI</option>
                <option value="THIRUPPUR">THIRUPPUR</option>
                <option value="THIRUVALLUR">THIRUVALLUR</option>
                <option value="THIRUVANNAMALAI">THIRUVANNAMALAI</option>
                <option value="THOOTHUKUDI">THOOTHUKUDI</option>
                <option value="TIRUVARUR">TIRUVARUR</option>
                <option value="VELLORE">VELLORE</option>
                <option value="VILLUPURAM">VILLUPURAM</option>
                <option value="VIRUDHUNAGAR">VIRUDHUNAGAR</option>

                <!-- Add more districts as needed -->
            </select>

            <input type="number" name="year" placeholder="Enter Year (e.g., 2024)" required>
            <input type="submit" value="Predict Price">
        </form>

    {% elif prediction %}
        <div id="results">
            <h2>Prediction Result</h2>
            <p><strong>Crop Type:</strong> {{ prediction[0] }}</p>
            <p><strong>District:</strong> {{ prediction[1] }}</p>
            <p><strong>Year:</strong> {{ prediction[2] }}</p>
            <p><strong>Predicted Price:</strong> ₹{{ prediction[3] }} per ton</p>
            <p><strong>Current Price:</strong> ₹{{ prediction[4] }} per ton</p>
            <p><strong>Prediction Date:</strong> {{ prediction[5] }}</p>
            <img src="{{ plot_path }}" alt="Prediction Plot">
            <a href="/">Log Out</a>
        </div>

    {% else %}
        <form action="/login" method="POST">
            <h2>Login</h2>
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <div class="forgot-password">
                <a href="#">Forgot Password?</a>
            </div>
            <input type="submit" value="Login">

            <div class="form-switch">
                <a href="#register-form" onclick="toggleRegister()">Don't have an account? Register</a>
            </div>
        </form>

        <form id="register-form" class="hidden" action="/register" method="POST">
            <h2>Register</h2>
            <input type="text" name="name" placeholder="Enter Name" required>
            <input type="email" name="email" placeholder="Enter Email" required>
            <input type="text" name="phone" placeholder="Enter Phone Number" required>
            <input type="text" name="username" placeholder="Choose Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <input type="password" name="confirm_password" placeholder="Confirm Password" required>
            <input type="submit" value="Register">
        </form>
    {% endif %}
</div>

<script>
    function toggleRegister() {
        const registerForm = document.getElementById('register-form');
        const loginForm = document.querySelector('form[action="/login"]');
        
        if (registerForm.classList.contains('hidden')) {
            registerForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
        } else {
            registerForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        }
    }
</script>

</body>
</html>

